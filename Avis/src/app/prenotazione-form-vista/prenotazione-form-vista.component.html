<div class ="container">
  <div class="titolo" style="text-align: center;margin-top: 30px; font-size: 30px;">
<p><b>FORM PER LA DONAZIONE DEL SANGUE</b></p>
  </div>
<div class="card my-5">
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" #prenotazioneFormForm="ngForm">

        <div class="form-group">
         <label for="centro">Centro</label>
        <select [(ngModel)]="prenotazioneForm.centro" class="form-control" id="centro" name="centro"
         required #centro="ngModel">
          <option value="Avis Ancona">Avis Ancona</option>
          <option value="Avis Ascoli Piceno">Avis Ascoli Piceno</option>
          <option value="Avis Comunale di Fermo">Avis Comunale di Fermo</option>
          <option value="Avis Macerata">Avis Macerata</option>
          <option value="Avis Pesaro e Urbino">Avis Pesaro e Urbino</option>
        </select>
        <div [hidden]="!centro.pristine" class="alert alert-danger">Devi inserire un centro</div>
      </div>
       
      <div class="form-group">
          <label for="centro">Data</label>
          <input type="text" [(ngModel)]="prenotazioneForm.compleanno" 
          class="form-control"
          id="compleanno"
          name="compleanno"
          placeholder="Inserisci la data in cui si vuole effettuare la donazione"
          required #compleanno="ngModel"     
          [minDate]="minDate"
          [maxDate]="maxDate"
          #dp="bsDatepicker"
          bsDatepicker [(bsValue)]="myDateValue">
          <div *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)" class="alert alert-danger">
          <div *ngIf="telefono.errors.required">
              Devi inserire una data dal calendario
          </div>
          </div>
    </div>

        <div class="form-group">
            <label for="telefono">Numero di telefono</label>
            <input type="text" [(ngModel)]="prenotazioneForm.telefono" 
              class="form-control"
              id="telefono"
              name="telefono"
              placeholder="Inserisci il tuo numero di telefono"
              required minlength="8"
              required #telefono="ngModel">
              <div *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)" class="alert alert-danger">
                  <div *ngIf="telefono.errors.required">
                      Devi scrivere il tuo numero di telefono
                  </div>
                <div *ngIf="telefono.errors.minlength">
                Il numero di telefono deve essere lungo almeno 2 caratteri
            </div>
            </div>
          </div>

          <div class="form-group">
            <label for="statosalute">Hai avuto problemi da evidenziare?</label>
            <input type="text" [(ngModel)]="prenotazioneForm.statosalute" 
              class="form-control"
              id="statosalute"
              name="statosalute"
              placeholder="Scrivi qua il tuo stato di salute"
              required #statosalute="ngModel">
              <div *ngIf="statosalute.invalid && (statosalute.dirty || statosalute.touched)" class="alert alert-danger">
                  <div *ngIf="statosalute.errors.required">
                      Scrivi se hai avuto problemi, se non ne hai avuti scrivi: niente
                  </div>
                  </div>
          </div>

          <div class="form-group">
            <label for="note">Inserisci una nota (opzionale)</label>
            <input type="text" [(ngModel)]="prenotazioneForm.note" 
              class="form-control"
              id="note"
              name="note"
              placeholder="Scrivi qua una nota"
              required #note="ngModel">
          </div>

          <div class="form-group">
            <label for="donazioneEmergenza">Donazione d'emergenza</label>
           <select [(ngModel)]="prenotazioneForm.donazioneEmergenza" class="form-control" id="donazioneEmergenza" name="donazioneEmergenza"
           placeholder="Inserisci la risposta alla donazione d'emergenza" required #donazioneEmergenza="ngModel">
             <option value="SI">SI</option>
             <option value="NO">NO</option>
           </select>
           <div [hidden]="!donazioneEmergenza.pristine" class="alert alert-danger">Devi inserire una risposta</div>
         </div>

         <button type="submit" class="btn btn-primary" (click)="isCollapsed = !isCollapsed"
      [attr.aria-expanded]="!isCollapsed" aria-controls="collapseBasic" 
      [disabled]="!prenotazioneFormForm.form.valid" class="btn btn-info">Submit</button>

          <div class="row" style="margin-top: 30px;" *ngIf="showMsg">
              <div class="col-xs-12">
                <div class="alert alert-success">
                <p>
                    <strong>La prenotazione Ã¨ stata registrata.
                    </strong>
                </p>
              </div>
              </div>
            </div>
      </form>
    </div>
  </div>
</div>